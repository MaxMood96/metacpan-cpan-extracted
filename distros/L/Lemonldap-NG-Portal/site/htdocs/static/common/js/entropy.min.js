!function(){"use strict";var r=new Map([["Err","bg-danger"],["0","bg-danger"],["1","bg-warning"],["2","bg-info"],["3","bg-primary"],["4","bg-success"]]),n=new Map([["Err","0"],["0","20"],["1","40"],["2","60"],["3","80"],["4","100"]]),c=function(e){return $("#entropybar div").removeClass(),$("#entropybar div").addClass("progress-bar"),$("#entropybar div").width(n.get(e)+"%"),$("#entropybar div").addClass(r.get(e)),$("#entropybar div").html(n.get(e)+"%")},p=function(e){return $("#entropybar-msg").html(e),0===e.length?$("#entropybar-msg").addClass("entropyHidden"):$("#entropybar-msg").removeClass("entropyHidden")};$(document).on("checkpassword",function(e,r){var n,t,o,a;if(r.password,r.evType,a=r.setResult,0<$("#ppolicy-checkentropy-feedback").length&&(o=$("#newpassword").val(),n=$("span[trspan='checkentropyLabel']").attr("data-checkentropy_required"),t=$("span[trspan='checkentropyLabel']").attr("data-checkentropy_required_level"),0===o.length&&(c("Err"),p(""),a("ppolicy-checkentropy-feedback","unknown")),0<o.length))return $.ajax({dataType:"json",url:"".concat(scriptname,"checkentropy"),method:"POST",data:{password:btoa(o)},context:document.body,success:function(e){var r=e.level,e=e.message;if(void 0!==r)return 0<=parseInt(r)&&parseInt(r)<=4?(c(r),p(e),"1"===n&&0<t.length&&(parseInt(r)>=parseInt(t)?a("ppolicy-checkentropy-feedback","good"):a("ppolicy-checkentropy-feedback","bad")),"1"!==n?a("ppolicy-checkentropy-feedback","good"):void 0):-1===parseInt(r)?(c(r),p(e),a("ppolicy-checkentropy-feedback","bad")):(c(r),p(e),a("ppolicy-checkentropy-feedback","unknown"))},error:function(e,r,n){var t;n&&console.debug("checkentropy: frontend error: ",n),(t=e?JSON.parse(e.responseText):t)&&t.error&&console.debug("checkentropy: returned error: ",t)}})})}();