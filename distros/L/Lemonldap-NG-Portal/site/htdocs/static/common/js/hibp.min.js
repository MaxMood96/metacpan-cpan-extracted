!function(){"use strict";function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){var o;if(e)return"string"==typeof e?n(e,r):"Map"===(o="Object"===(o=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,r):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,n=new Array(r);o<r;o++)n[o]=e[o];return n}$(document).on("checkpassword",function(e,r){var o,n;if(r.password,o=r.evType,n=r.setResult,0<$("#ppolicy-checkhibp-feedback").length)return 5<=(r=$("#newpassword").val()).length?"focusout"===o?(n("ppolicy-checkhibp-feedback","waiting"),$.ajax({dataType:"json",url:"".concat(scriptname,"checkhibp"),method:"POST",data:{password:btoa(String.fromCharCode.apply(String,t((new TextEncoder).encode(r))))},context:document.body,success:function(e){var r=e.code,e=e.message;if(void 0!==r)return 0===parseInt(r)?n("ppolicy-checkhibp-feedback","good"):2===parseInt(r)?n("ppolicy-checkhibp-feedback","bad"):(console.error("checkhibp: backend error: ",e),n("ppolicy-checkhibp-feedback","unknown"))},error:function(e,r,o){var n;o&&console.error("checkhibp: frontend error: ",o),(n=e?JSON.parse(e.responseText):n)&&n.error&&console.error("checkhibp: returned error: ",n)}})):void 0:n("ppolicy-checkhibp-feedback","unknown")})}();