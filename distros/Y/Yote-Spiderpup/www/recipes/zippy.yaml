import:
  mrfred: /recipes/fred.yaml
recipes:
  clicker:
    vars:
      count: 0
      title: 'clicked'
    methods:
      inc: () => { $count = $count + 1; this.broadcast("clicker", $count ); this.emit("bloop", $count ) }
    html: |
      <button type="button" @click="inc()" value="click">${title} ${count} times</button>

css: |
  h1 { color: green; }
  .source-box {
    display: inline-block;
    padding: 4px 10px;
    font-size: 12px;
    font-weight: bold;
    color: #555;
    background: linear-gradient(to bottom, #f5f5f5, #e0e0e0);
    border: 1px solid #999;
    border-radius: 3px;
    box-shadow: inset 0 1px 0 #fff, 0 1px 2px rgba(0,0,0,0.2);
    cursor: pointer;
    position: relative;
  }
  .source-box:hover {
    background: linear-gradient(to bottom, #fff, #eee);
  }
  .source-box:hover .source-popup {
    display: block;
  }

vars:
  count: 0
  color: ''
  yamlSource: ''
methods:
  inc: $count = $count + 1
  zlick: Math.round(Math.random()*100)

lifecycle:
  onMount: |
    () => {
      if (this.yamlUrl) {
        fetch(this.yamlUrl)
          .then(r => r.text())
          .then(text => $yamlSource = text)
          .then(() => this.refresh())
      }
      this.on('bloop', (val) => { alert(`zippy got bloop ${val.data}`) } );
    }
html: |
  <h1 title="()=>zlick()">This is $color Zippy</h1>
  <div class="source-box" title="$yamlSource">
    source $yamlSource
  </div>
  <div> and fred said <mrfred /></div>
  <clicker name="zippy"/>

html_smol: |
  <h1>Zippy $color Smol</h1>

html_color: |
  <h1 style="background:$color">Zippy $color COLOR COLOR</h1>
